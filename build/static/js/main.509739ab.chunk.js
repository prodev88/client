(this.webpackJsonptrialapp=this.webpackJsonptrialapp||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(35),i=n.n(s),r=(n(43),n(3)),o=(n(44),n(2)),j=n(13),l=n(14),d=n(10),b=n(16),h=n(15),u=n(9),O=n.n(u),m=(n(63),n(0)),p=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).onChangeprojectname=c.onChangeprojectname.bind(Object(d.a)(c)),c.onChangeDescription=c.onChangeDescription.bind(Object(d.a)(c)),c.onSubmit=c.onSubmit.bind(Object(d.a)(c)),c.state={projectName:"",description:""},c}return Object(l.a)(n,[{key:"onChangeprojectname",value:function(e){this.setState({projectName:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={projectName:this.state.projectName,description:this.state.description};O.a.post("/ongoing/add",t),this.props.change()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"createpro",children:[Object(m.jsx)("h1",{children:"CREATE NEW PROJECT"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"headin",children:"PROJECTNAME : "}),Object(m.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.projectName,onChange:this.onChangeprojectname})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"headin",children:"DESCRIPTION : "}),Object(m.jsx)("textarea",{type:"text",required:!0,className:"form-control   descchange",value:this.state.description,onChange:this.onChangeDescription})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"submit",value:"Create Project",className:"btn btn-primary"})})]})]})}}]),n}(c.Component);var x=function(){var e=Object(o.e)().state,t=Object(c.useState)(""),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),j=Object(r.a)(i,2),l=j[0],d=j[1],b=Object(o.f)();function h(t){t.preventDefault(),fetch("/tasks/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e.projectid,task_description:a,task_duration:l,emp_email:e.employeeemail})}).then((function(e){})),b("/new")}return Object(m.jsx)("div",{className:"maindivv",children:Object(m.jsxs)("div",{className:"box",children:[Object(m.jsx)("h1",{children:"ADD TASK"}),Object(m.jsxs)("form",{onSubmit:h,children:[Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"task_description",children:"Your Task:"}),Object(m.jsx)("input",{type:"String",placeholder:"Enter your task",required:!0,value:a,onChange:function(e){s(e.target.value)}})]}),Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"task_duration",children:"Task Duration:"}),Object(m.jsx)("input",{type:"String",placeholder:"Enter the task duration",required:!0,value:l,onChange:function(e){d(e.target.value)}})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"submit",value:"Submit",className:"btn btn-primary",onSubmit:h})})]})]})})},f=(n(65),n(5));var g=function(){Object(o.f)();var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];function s(){f.b}return Object(c.useEffect)((function(){fetch("/getsub/"+localStorage.getItem("emid")).then((function(e){return e.json()})).then((function(e){a(e)}))}),[]),Object(m.jsxs)("div",{className:"subtemp",children:[Object(m.jsx)("h1",{children:"CURRENT WORKING PROJECTS"}),Object(m.jsx)("hr",{}),n.map((function(e,t){if(e.employeeemail===localStorage.getItem("emid"))return Object(m.jsx)("div",{class:"card mt-4",children:Object(m.jsxs)("div",{class:"card-body",children:[Object(m.jsx)("h4",{class:"card-title",children:e.projectname}),Object(m.jsxs)("form",{children:[Object(m.jsx)(f.b,{to:"/add/task",state:e,children:Object(m.jsx)("button",{type:"submit",class:"btn btn-danger",onClick:s,children:"Add Task"})}),"\xa0\xa0\xa0",Object(m.jsx)(f.b,{to:"/view/task",state:e,children:Object(m.jsx)("button",{type:"submit",class:"btn btn-danger",children:"View Task"})}),"\xa0\xa0\xa0"]})]})})}))]})};n(66);var v=function(e){Object(c.useEffect)((function(){-1===e.sublist.indexOf(e.project._id)?s("SUBSCRIBE"):s("UNSUBSCRIBE")}),[e.sublist,e.project._id]);var t=Object(c.useState)("SUBSCRIBE"),n=Object(r.a)(t,2),a=n[0],s=n[1],i=function(t){var n,c;"SUBSCRIBE"===a?(s("UNSUBSCRIBE"),n=e.project.projectName,c=e.project._id,fetch("/addsub",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeemail:localStorage.getItem("emid"),projectname:n,projectid:c})}).then((function(e){})).catch((function(e){console.log("error:",e)}))):(fetch("/subdel/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}),s("SUBSCRIBE"))};return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.project.projectName}),Object(m.jsx)("td",{children:e.project.description}),Object(m.jsxs)("td",{children:[Object(m.jsx)(f.b,{to:"/edit/"+e.project._id,children:"EDIT"})," |"," ",Object(m.jsx)("a",{href:"#",onClick:function(){e.deleteProject(e.project._id)},children:"DELETE"})," | ",Object(m.jsx)("a",{href:"#",onClick:function(){i(e.project._id)},children:a})]})]})},N=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).deleteProject=c.deleteProject.bind(Object(d.a)(c)),c.state={projects:[],subtablelist:[],temparr:[],onlyid:[]},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/ongoing").then((function(t){e.setState({projects:t.data})})).catch((function(e){console.log(e)})),fetch("/getsub/"+localStorage.getItem("emid")).then((function(e){return e.json()})).then((function(t){e.setState({subtablelist:t});for(var n=0;n<e.state.subtablelist.length;n++)e.state.temparr[n]=e.state.subtablelist[n].projectid;e.setState({onlyid:e.state.temparr})}))}},{key:"deleteProject",value:function(e){O.a.delete("/ongoing/"+e).then((function(t){fetch("/subdel/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"}}),fetch("/task/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"}})})),this.setState({projects:this.state.projects.filter((function(t){return t._id!==e}))})}},{key:"projectList",value:function(){var e=this;return this.state.projects.map((function(t){return Object(m.jsx)(v,{project:t,deleteProject:e.deleteProject,sublist:e.state.onlyid},t._id)}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"prolist",children:[Object(m.jsx)("h3",{children:"COMPANY PROJECTS"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"thead-light",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"PROJECTNAME"}),Object(m.jsx)("th",{children:"DESCRIPTION"})]})}),Object(m.jsx)("tbody",{children:this.projectList()})]})]})}}]),n}(c.Component),S=n(11);n(67),n(68);var C=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),a=n[0],s=n[1];return Object(m.jsxs)("div",{className:"upmaindiv",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:"titleup",children:" UPCOMING PROJECTS "})}),Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(t){""!==a.trim()?(t.preventDefault(),fetch("/postproject",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectname:a,status:!1})}).then((function(e){return e.json()})).then((function(t){s(""),e.addtolist(t)})).catch((function(e){console.log("error:",e)}))):t.preventDefault()},children:[Object(m.jsx)("input",{type:"text",placeholder:"Enter new project...",value:a,onChange:function(e){s(e.target.value)}}),Object(m.jsx)("button",{children:" ADD "})]})})]})},E=n(36),y=n.n(E);var k=function(e){return Object(m.jsx)("div",{className:"tempc",children:Object(m.jsx)("ul",{children:e.todol.map((function(t,n){return Object(m.jsxs)("li",{children:[Object(m.jsx)("div",{children:t.projectname}),Object(m.jsx)(y.a,{className:"del",onClick:function(){return n=t._id,void fetch("/del/"+n,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.toremove(t)}));var n}})]},n)}))})})};n(76);var T=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){fetch("/getfull").then((function(e){return e.json()})).then((function(e){a(e)}))}),[]),Object(m.jsxs)("div",{className:"mainupcom",children:[Object(m.jsx)(C,{addtolist:function(e){a([].concat(Object(S.a)(n),[e]))}}),Object(m.jsx)(k,{todol:n,toremove:function(e){var t=n.filter((function(t){return!(t._id===e._id)}));a(t)}})]})};var D=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1];function s(e){a(e)}var i=Object(o.f)();return Object(c.useEffect)((function(){localStorage.getItem("emid")||i("/")}),[]),Object(m.jsxs)("div",{className:"homepagebuttons",children:[Object(m.jsx)("button",{className:"homepagebuttonind",onClick:function(){return s("m")},children:"MY PROJECT"}),Object(m.jsx)("button",{className:"homepagebuttonind",onClick:function(){return s("o")},children:"ONGOING PROJECT"}),Object(m.jsx)("button",{className:"homepagebuttonind",onClick:function(){return s("a")},children:"CREATE PROJECT"}),Object(m.jsx)("button",{className:"homepagebuttonind",onClick:function(){return s("u")},children:"UP COMING"}),Object(m.jsx)("button",{className:"homepagebuttonind",onClick:function(){return localStorage.removeItem("emid"),void i("/")},children:"LOG OUT"}),Object(m.jsxs)("div",{children:[""===n?Object(m.jsx)(g,{}):Object(m.jsx)(m.Fragment,{}),"o"===n?Object(m.jsx)(N,{}):Object(m.jsx)(m.Fragment,{}),"u"===n?Object(m.jsx)(T,{}):Object(m.jsx)(m.Fragment,{}),"m"===n?Object(m.jsx)(g,{}):Object(m.jsx)(m.Fragment,{}),"a"===n?Object(m.jsx)(p,{change:function(){return s("o")}}):Object(m.jsx)(m.Fragment,{})]})]})},P=(n(77),function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),j=Object(r.a)(i,2),l=j[0],d=j[1],b=Object(c.useState)(""),h=Object(r.a)(b,2),u=h[0],O=h[1],p=Object(o.f)();return Object(m.jsx)("div",{className:"maindiv",children:Object(m.jsxs)("div",{className:"box",children:[Object(m.jsx)("h1",{children:" SIGN UP "}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(m.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Enter Name",onChange:function(e){s(e.target.value)}})]}),Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(m.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Enter Email",onChange:function(e){d(e.target.value)}})]}),Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){O(e.target.value)}})]}),Object(m.jsx)("input",{type:"submit",value:"SIGN UP",onClick:function(e){a=a.trim(),l=l.trim(),u=u.trim(),0===a.length||0===l.length||0===u.length?alert("VALUE IS EMPTY "):/^\w+@\w+\.(com|org|net)$/.test(l)?a.length<5?alert("NAME CAN'T BE LESS THAN 5"):u.length<5?alert("PASSWORD CAN'T BE LESS THAN 5"):(e.preventDefault(),localStorage.setItem("emid",l),fetch("/postdata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:l,password:u})}).then((function(e){e.text().then((function(e){"1"===e&&p("/new"),"0"===e&&alert("EMAIL ALREADY EXISTS")}))})).catch((function(e){console.log("error:",e)}))):alert("ENTER A PROPER EMAIL ID ")}})]})]})})}),I=(n(78),function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(r.a)(s,2),j=i[0],l=i[1],d=Object(o.f)();return Object(m.jsx)("div",{className:"maindivv",children:Object(m.jsxs)("div",{className:"box",children:[Object(m.jsx)("h1",{children:"COMPANY DASHBOARD"}),Object(m.jsx)("h1",{children:" SIGN IN "}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(m.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Enter Email",onChange:function(e){a(e.target.value)}})]}),Object(m.jsxs)("div",{className:"grp",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){l(e.target.value)}})]}),Object(m.jsx)("input",{type:"submit",value:"SIGN IN",onClick:function(e){e.preventDefault(),0===n.length||0===j.length?alert("It cant be empty"):fetch("/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:j})}).then((function(e){e.text().then((function(e){"0"===e&&alert("CHECK YOUR EMAIL AND PASSWORD"),"1"===e&&(localStorage.setItem("emid",n),d("/new"))}))})).catch((function(e){console.log("error:",e)}))}})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("p",{children:["Don't have an account ? \xa0 \xa0 \xa0"," ",Object(m.jsxs)("button",{className:"btn",onClick:function(){d("/signup")},children:[" ","Sign Up"]})," "]})]})})}),A=n(25);var R=function(e){return function(t){var n=Object(o.g)();return Object(m.jsx)(e,Object(A.a)(Object(A.a)({},t),{},{p:n}))}}(function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).onChangeprojectName=c.onChangeprojectName.bind(Object(d.a)(c)),c.onChangeDescription=c.onChangeDescription.bind(Object(d.a)(c)),c.onSubmit=c.onSubmit.bind(Object(d.a)(c)),c.state={projectName:"",description:""},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/ongoing/"+this.props.p.id).then((function(t){e.setState({projectName:t.data.projectName,description:t.data.description})})).catch((function(e){console.log(e)}))}},{key:"onChangeprojectName",value:function(e){this.setState({projectName:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={projectName:this.state.projectName,description:this.state.description};O.a.post("/ongoing/update/"+this.props.p.id,t)}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Edit Project"}),Object(m.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"projectname"}),Object(m.jsx)("input",{type:"text",className:"form-control",value:this.state.projectName,onChange:this.onChangeprojectName})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Description: "}),Object(m.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"submit",value:"Submit",className:"btn btn-primary",onSubmit:this.onSubmit})})]})]})}}]),n}(c.Component)),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};var _=function(){var e=Object(o.e)().state,t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){fetch("/tasks/"+e.projectid).then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{class:"mb-4",children:[e.projectname," "]}),Object(m.jsx)("h1",{class:"mb-4",children:"All tasks"}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"thead-light",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Employee Name"}),Object(m.jsx)("th",{children:"Created At"}),Object(m.jsx)("th",{children:"Task"}),Object(m.jsx)("th",{children:"Task Duration"})]})}),Object(m.jsx)("tbody",{children:a.map((function(e){fetch("/users/"+e.emp_email).then((function(e){return e.json()})).then((function(e){}));var t=e.createdAt,n=new Date(t).toLocaleDateString();return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"user_row"}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:e.task_description}),Object(m.jsx)("td",{children:e.task_duration})]})}))})]})]})};var L=function(){var e=Object(o.e)().state,t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){O.a.get("/my/tasks",{params:{mail:localStorage.getItem("emid"),projectid:e.projectid}}).then((function(e){s(e)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{class:"mb-4",children:[e.projectname," "]}),Object(m.jsx)("h1",{class:"mb-4",children:"My tasks"}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"thead-light",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Created At"}),Object(m.jsx)("th",{children:"Task"}),Object(m.jsx)("th",{children:"Task Duration"})]})}),Object(m.jsx)("tbody",{children:a.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.createdAt}),Object(m.jsx)("td",{children:e.task_description}),Object(m.jsx)("td",{children:e.task_duration})]})}))})]})]})};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(f.a,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",element:Object(m.jsx)(I,{})}),Object(m.jsx)(o.a,{path:"/signup",element:Object(m.jsx)(P,{})}),Object(m.jsx)(o.a,{path:"/new",element:Object(m.jsx)(D,{})}),Object(m.jsx)(o.a,{path:"/upcoming",element:Object(m.jsx)(T,{})}),Object(m.jsx)(o.a,{path:"/myprojects",element:Object(m.jsx)(g,{})}),Object(m.jsx)(o.a,{path:"/createproject",element:Object(m.jsx)(p,{})}),Object(m.jsx)(o.a,{path:"/edit/:id",element:Object(m.jsx)(R,{})}),Object(m.jsx)(o.a,{path:"/add/task",element:Object(m.jsx)(x,{})}),Object(m.jsx)(o.a,{path:"/view/task",element:Object(m.jsx)(_,{})}),Object(m.jsx)(o.a,{path:"/my/tasks",element:Object(m.jsx)(L,{})})]})})}),document.getElementById("root")),w()}},[[80,1,2]]]);
//# sourceMappingURL=main.509739ab.chunk.js.map